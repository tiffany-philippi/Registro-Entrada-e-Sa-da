create table responsavel (
cpf_resp varchar (14) PRIMARY KEY,
nome_resp varchar(30),
endereco_resp varchar(30),
telefone_resp varchar(11),
email_resp varchar(40));

create table alunos (
matricula varchar(10) PRIMARY KEY,
cpf_resp varchar(14),
telefone_resp varchar(11),
cod_turma varchar(10),
nome_aluno varchar(30),
endereco_aluno varchar(30),
email_aluno varchar(20),
periodo enum("MATUTINO","VESPERTINO","INTEGRAL"),
cursando enum("SIM", "NÃO"),
transp_publico enum("SIM", "NÃO"),
FOREIGN KEY (cpf_resp) REFERENCES responsavel(cpf_resp));

create table funcionario (
cod_func int auto_increment PRIMARY KEY,
nome_func varchar(30),
email_func varchar(30),
endereco_func varchar(30),
empregado enum("SIM", "NÃO"),
carga_horaria int);

create table autorizacao (
cod_autorizacao int auto_increment PRIMARY KEY,
matricula varchar(10),
data_autorizacao datetime,
tipo_autorizacao enum("secretaria", "responsavel"),
passagem enum("ENTRADA", "SAÍDA"),
FOREIGN KEY (matricula) REFERENCES alunos (matricula));

create table registro (
cod_registro int auto_increment PRIMARY KEY,
cod_autorizacao int,
cod_func int,
matricula varchar(10),
passagem enum("ENTRADA", "SAÍDA"),
data_autorizacao datetime,
FOREIGN KEY (cod_autorizacao) REFERENCES autorizacao (cod_autorizacao),
FOREIGN KEY (cod_fun) REFERENCES funcionario (cod_func),
FOREIGN KEY (matricula) REFERENCES alunos (matricula));